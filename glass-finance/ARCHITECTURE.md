# ğŸ—ï¸ GlassFinance Architecture

## System Architecture Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         USER INTERFACE                          â”‚
â”‚                     (Browser - Port 3000)                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â”‚ HTTP/HTTPS
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      FRONTEND (React)                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚  Components  â”‚  â”‚    Pages     â”‚  â”‚   Services   â”‚         â”‚
â”‚  â”‚  - GlassCard â”‚  â”‚  - Dashboard â”‚  â”‚  - API       â”‚         â”‚
â”‚  â”‚  - GlassBtn  â”‚  â”‚  - Transactionsâ”‚ â”‚  - Auth      â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚    Hooks     â”‚  â”‚   Contexts   â”‚  â”‚    Utils     â”‚         â”‚
â”‚  â”‚  - useAuth   â”‚  â”‚  - AuthCtx   â”‚  â”‚  - helpers   â”‚         â”‚
â”‚  â”‚  - useAPI    â”‚  â”‚  - ThemeCtx  â”‚  â”‚  - constants â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â”‚ REST API
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      BACKEND (Express)                          â”‚
â”‚                        (Port 5000)                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚  Controllers â”‚  â”‚    Routes    â”‚  â”‚  Middleware  â”‚         â”‚
â”‚  â”‚  - Auth      â”‚  â”‚  - /auth     â”‚  â”‚  - Error     â”‚         â”‚
â”‚  â”‚  - Transactionâ”‚ â”‚  - /transactionsâ”‚ â”‚  - Auth      â”‚         â”‚
â”‚  â”‚  - Category  â”‚  â”‚  - /categoriesâ”‚  â”‚  - Validate  â”‚         â”‚
â”‚  â”‚  - Budget    â”‚  â”‚  - /budgets  â”‚  â”‚              â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚              Prisma ORM Layer                    â”‚          â”‚
â”‚  â”‚  - User Model                                    â”‚          â”‚
â”‚  â”‚  - Category Model                                â”‚          â”‚
â”‚  â”‚  - Transaction Model                             â”‚          â”‚
â”‚  â”‚  - Budget Model                                  â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â”‚ SQL
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      DATABASE (SQLite)                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚  users   â”‚  â”‚categoriesâ”‚  â”‚transactionsâ”‚ â”‚ budgets  â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Data Flow

### 1. User Authentication Flow
```
User â†’ Login Form â†’ API Service â†’ Backend Auth Controller
                                        â†“
                                   Validate Credentials
                                        â†“
                                   Generate JWT Token
                                        â†“
                                   Return User + Token
                                        â†“
                                   Store in LocalStorage
                                        â†“
                                   Redirect to Dashboard
```

### 2. Transaction Creation Flow
```
User â†’ Transaction Form â†’ Validate Input â†’ API Service
                                                â†“
                                          POST /transactions
                                                â†“
                                          Backend Controller
                                                â†“
                                          Prisma ORM
                                                â†“
                                          SQLite Database
                                                â†“
                                          Return Created Transaction
                                                â†“
                                          Update UI State
                                                â†“
                                          Show Success Message
```

### 3. Dashboard Statistics Flow
```
Dashboard Page â†’ useEffect Hook â†’ API Service
                                        â†“
                                  GET /transactions/stats
                                        â†“
                                  Backend Controller
                                        â†“
                                  Aggregate Queries via Prisma
                                        â†“
                                  Calculate Statistics
                                        â†“
                                  Return Stats Object
                                        â†“
                                  Render Charts & Cards
```

## Technology Stack Layers

### Presentation Layer (Frontend)
- **Framework**: React 18 with TypeScript
- **Build Tool**: Vite
- **Styling**: TailwindCSS + Custom Glassmorphism
- **State Management**: React Hooks + Context API
- **Routing**: React Router v6
- **Animations**: Framer Motion
- **Charts**: Recharts
- **Icons**: Lucide React

### Application Layer (Backend)
- **Runtime**: Node.js 18+
- **Framework**: Express.js
- **Language**: TypeScript
- **Validation**: express-validator
- **Security**: Helmet, CORS, bcryptjs
- **Authentication**: JWT
- **Logging**: Morgan

### Data Layer
- **ORM**: Prisma
- **Database**: SQLite (Development)
- **Migrations**: Prisma Migrate
- **Seeding**: Custom seed scripts

### DevOps Layer
- **Containerization**: Docker
- **Orchestration**: Docker Compose
- **Web Server**: Nginx (Production)
- **Process Manager**: Node.js native

## Security Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Security Layers                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  1. HTTPS/TLS (Production)              â”‚
â”‚  2. Helmet.js Security Headers          â”‚
â”‚  3. CORS Policy                         â”‚
â”‚  4. JWT Authentication                  â”‚
â”‚  5. Password Hashing (bcrypt)           â”‚
â”‚  6. Input Validation                    â”‚
â”‚  7. SQL Injection Prevention (Prisma)   â”‚
â”‚  8. XSS Protection                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Deployment Architecture (Docker)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Docker Host                          â”‚
â”‚                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚         Docker Network (bridge)                â”‚    â”‚
â”‚  â”‚                                                 â”‚    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚    â”‚
â”‚  â”‚  â”‚  Frontend        â”‚  â”‚  Backend         â”‚   â”‚    â”‚
â”‚  â”‚  â”‚  Container       â”‚  â”‚  Container       â”‚   â”‚    â”‚
â”‚  â”‚  â”‚  (Nginx)         â”‚  â”‚  (Node.js)       â”‚   â”‚    â”‚
â”‚  â”‚  â”‚  Port: 80        â”‚  â”‚  Port: 5000      â”‚   â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚    â”‚
â”‚  â”‚           â”‚                      â”‚             â”‚    â”‚
â”‚  â”‚           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚    â”‚
â”‚  â”‚                      â”‚                         â”‚    â”‚
â”‚  â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚    â”‚
â”‚  â”‚              â”‚  Volume        â”‚                â”‚    â”‚
â”‚  â”‚              â”‚  (Database)    â”‚                â”‚    â”‚
â”‚  â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## API Endpoints Structure

```
/api/v1
â”œâ”€â”€ /health (GET)
â”œâ”€â”€ /auth
â”‚   â”œâ”€â”€ /login (POST)
â”‚   â”œâ”€â”€ /register (POST)
â”‚   â”œâ”€â”€ /logout (POST)
â”‚   â””â”€â”€ /me (GET)
â”œâ”€â”€ /transactions
â”‚   â”œâ”€â”€ / (GET, POST)
â”‚   â”œâ”€â”€ /:id (GET, PUT, DELETE)
â”‚   â””â”€â”€ /stats (GET)
â”œâ”€â”€ /categories
â”‚   â”œâ”€â”€ / (GET, POST)
â”‚   â””â”€â”€ /:id (GET, PUT, DELETE)
â”œâ”€â”€ /budgets
â”‚   â”œâ”€â”€ / (GET, POST)
â”‚   â””â”€â”€ /:id (GET, PUT, DELETE)
â””â”€â”€ /users
    â”œâ”€â”€ /profile (GET)
    â””â”€â”€ /profile (PUT)
```

## File Organization Pattern

```
Monorepo Structure
â”œâ”€â”€ frontend/          (Client-side application)
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/    (Reusable UI components)
â”‚   â”‚   â”œâ”€â”€ pages/         (Route pages)
â”‚   â”‚   â”œâ”€â”€ hooks/         (Custom React hooks)
â”‚   â”‚   â”œâ”€â”€ services/      (API communication)
â”‚   â”‚   â”œâ”€â”€ contexts/      (Global state)
â”‚   â”‚   â”œâ”€â”€ utils/         (Helper functions)
â”‚   â”‚   â”œâ”€â”€ types/         (TypeScript types)
â”‚   â”‚   â””â”€â”€ styles/        (Global styles)
â”‚   â””â”€â”€ public/            (Static assets)
â”‚
â”œâ”€â”€ backend/           (Server-side application)
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ controllers/   (Request handlers)
â”‚   â”‚   â”œâ”€â”€ routes/        (API routes)
â”‚   â”‚   â”œâ”€â”€ middleware/    (Express middleware)
â”‚   â”‚   â”œâ”€â”€ models/        (Business logic)
â”‚   â”‚   â”œâ”€â”€ utils/         (Helper functions)
â”‚   â”‚   â””â”€â”€ config/        (Configuration)
â”‚   â””â”€â”€ prisma/            (Database schema & migrations)
â”‚
â””â”€â”€ shared/            (Shared code)
    â””â”€â”€ types/             (Shared TypeScript types)
```

---

**Architecture Principles:**
- âœ… Separation of Concerns
- âœ… DRY (Don't Repeat Yourself)
- âœ… SOLID Principles
- âœ… RESTful API Design
- âœ… Type Safety
- âœ… Security First
- âœ… Scalability
- âœ… Maintainability
